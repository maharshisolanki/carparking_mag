{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\mahar\\\\Desktop\\\\react_car\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\mahar\\\\Desktop\\\\react_car\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\mahar\\\\Desktop\\\\react_car\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\mahar\\\\Desktop\\\\react_car\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\mahar\\\\Desktop\\\\react_car\\\\src\\\\Components\\\\UserComponent\\\\locationDetail.js\";\nimport React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport * as firebase from 'firebase';\nimport Drawer from 'material-ui/Drawer';\nimport MenuItem from 'material-ui/MenuItem';\nimport IconButton from 'material-ui/IconButton';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport FlatButton from 'material-ui/FlatButton';\nimport Paper from 'material-ui/Paper';\nimport TimePicker from 'material-ui/TimePicker';\nimport DatePicker from 'material-ui/DatePicker';\nimport Logout from \"../logout\";\nimport { Card, CardActions, CardHeader, CardMedia, CardTitle, CardText } from 'material-ui/Card';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nvar LocationDetail = /*#__PURE__*/function (_Component) {\n  _inherits(LocationDetail, _Component);\n\n  var _super = _createSuper(LocationDetail);\n\n  function LocationDetail() {\n    var _this;\n\n    _classCallCheck(this, LocationDetail);\n\n    _this = _super.call(this);\n\n    _this.handleExpandChange = function (expanded) {\n      _this.setState({\n        expanded: expanded\n      });\n    };\n\n    _this.handleToggle = function (event, toggle) {\n      _this.setState({\n        expanded: toggle\n      });\n    };\n\n    _this.handleExpand = function () {\n      _this.setState({\n        expanded: true\n      });\n    };\n\n    _this.handleReduce = function () {\n      _this.setState({\n        expanded: false\n      });\n    };\n\n    var date = new Date();\n    date.setHours(0, 0, 0, 0);\n    var startTime = new Date();\n    var endTime = new Date();\n    endTime.setHours(endTime.getHours() + 1);\n    _this.state = {\n      slots: [],\n      expanded: false,\n      slotNumber: '',\n      slot_array: [],\n      location_name: [],\n      location: ' ',\n      no_of_slots: '',\n      date: date,\n      startTime: startTime,\n      endTime: endTime,\n      locationId: '',\n      BookingKey: [],\n      date_now: '',\n      loc_name: '',\n      enable: [],\n      disable: []\n    };\n    return _this;\n  }\n\n  _createClass(LocationDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var slot = [];\n      var status = \"\";\n      var slotNo = \"\";\n      var locationId = this.props.location.state.key;\n      var rootRef = firebase.database().ref();\n      var speedRef = rootRef.child('Locations/' + locationId);\n      speedRef.on('value', function (snap) {\n        var values = snap.val();\n        var local_array;\n        var slot;\n        var slotcount;\n\n        _this2.state.location_name.push(values.LocationName);\n\n        _this2.state.slot_array.push(values.Slot);\n\n        _this2.state.slot_array = Object.keys(values.Slot).map(function (value, index) {\n          return [value];\n        });\n\n        _this2.setState({\n          location_name: _this2.state.location_name,\n          slot_array: _this2.state.slot_array,\n          locationId: locationId\n        });\n      });\n      this.setState({\n        slots: slot\n      });\n    }\n  }, {\n    key: \"Book\",\n    value: function Book(item) {\n      var _this3 = this;\n\n      var userId = firebase.auth().currentUser.uid;\n      var pushId = firebase.database().ref().push().key;\n      this.state.startTime = String(this.state.startTime.getHours()) + ' : ' + String(this.state.startTime.getMinutes()) + ' : ' + String(this.state.startTime.getSeconds());\n      this.state.endTime = String(this.state.endTime.getHours()) + ' : ' + String(this.state.endTime.getMinutes()) + ' : ' + String(this.state.endTime.getSeconds());\n      this.state.date = String(this.state.date.getDate()) + '-' + String(this.state.date.getMonth() + 1) + '-' + String(this.state.date.getFullYear());\n      this.setState({\n        startTime: this.state.startTime,\n        endTime: this.state.endTime,\n        date: this.state.date\n      });\n      firebase.database().ref('Locations/' + this.state.locationId).on('value', function (snap) {\n        var locobj = snap.val().LocationName;\n\n        _this3.setState({\n          loc_name: locobj\n        });\n      });\n      console.log(this.state.startTime + \" End time \" + this.state.endTime + \" :\" + this.state.date);\n      firebase.database().ref('Booking/').push({\n        UserId: userId,\n        locationId: this.state.locationId,\n        SlotNo: String(item),\n        StartTime: String(this.state.startTime),\n        EndTime: String(this.state.endTime),\n        date: String(this.state.date),\n        LocationName: String(this.state.location_name)\n      });\n      alert(\"Slot has been Booked for you\");\n    }\n  }, {\n    key: \"CheckBooking\",\n    value: function CheckBooking() {\n      var _this4 = this;\n\n      var date = this.state.date;\n      var startTime = this.state.startTime;\n      var endTime = this.state.endTime;\n      var sl;\n      startTime = String(this.state.startTime.getHours()) + ' : ' + String(this.state.startTime.getMinutes()) + ' : ' + String(this.state.startTime.getSeconds());\n      var split_start_time = startTime.split(\":\");\n      var start_hours_select = split_start_time[0];\n      var start_min_select = split_start_time[1];\n      start_hours_select = Number(start_hours_select);\n      start_min_select = Number(start_min_select);\n      endTime = String(this.state.endTime.getHours()) + ' : ' + String(this.state.endTime.getMinutes()) + ' : ' + String(this.state.endTime.getSeconds());\n      var split_end_time = endTime.split(\":\");\n      var end_hours_select = split_end_time[0];\n      var end_min_select = split_end_time[1];\n      end_hours_select = Number(end_hours_select);\n      end_min_select = Number(end_min_select);\n      var dateNow = String(date.getDate()) + '-' + String(date.getMonth() + 1) + '-' + String(date.getFullYear());\n      var split_date = dateNow.split(\"-\");\n      var day_select = split_date[0];\n      var month_select = split_date[1];\n      var year_select = split_date[2];\n      this.setState({\n        date_now: dateNow\n      });\n      firebase.database().ref('Booking/').orderByChild('locationId').equalTo(String(this.state.locationId)).on('value', function (snap) {\n        var booked = snap.val();\n        var differen_location_count = 0;\n\n        if (booked) {\n          // alert(\"have some previous bookings \")\n          var count = 0;\n          var bookings = [];\n\n          for (var a in booked) {\n            bookings.push(booked[a]);\n          }\n\n          for (var _i = 0; _i < bookings.length; _i++) {\n            var book = bookings[_i];\n            var start = String(book.StartTime);\n            var split_start_time = start.split(\":\");\n            var start_hours = split_start_time[0];\n            var start_min = split_start_time[1];\n            start_hours = Number(start_hours);\n            start_min = Number(start_min);\n            var end = String(book.EndTime);\n\n            var _split_end_time = end.split(\":\");\n\n            var end_hours = _split_end_time[0];\n            var end_min = _split_end_time[1];\n            end_hours = Number(end_hours);\n            end_min = Number(end_min);\n\n            var _date = String(book.date);\n\n            var split_date = _date.split(\"-\");\n\n            var day = split_date[0];\n            var month = split_date[1];\n            var year = split_date[2];\n            day = Number(day);\n            month = Number(month);\n            year = Number(year);\n\n            if (day_select === day) {\n              //  alert(\"yes day same \")\n              if (start_hours_select < start_hours && end_hours_select < start_hours || start_hours_select > end_hours) {\n                //  alert(\"ok no problem in if \")\n                console.log(\"book.slotNo\" + _this4.state.enable.push(book.SlotNo));\n              } else {\n                // alert (\"Similarity find i am in first else \")\n                console.log(\"disable book.slot no\" + _this4.state.disable.push(book.SlotNo));\n\n                _this4.setState({\n                  disable: _this4.state.disable\n                });\n              }\n            } //  else{\n            //         if (((start_hours_select < start_hours) && (end_hours_select < start_hours)) || (start_hours_select > end_hours)){\n            //           console.log(\"book.slotNo\"+this.state.enable.push(book.SlotNo))\n            //         }else{\n            //             console.log(\"disable book.slot no\"+this.state.disable.push(book.SlotNo))\n            //         }  \n            //     }\n\n          }\n        }\n\n        for (var i = 0; i < _this4.state.slot_array.length; i++) {\n          var data1 = _this4.state.disable[i];\n\n          if (data1 !== undefined) {\n            console.log(\"data 1\" + data1);\n            console.log(typeof data1);\n            data1 = Number(data1);\n\n            _this4.state.slot_array.splice(data1, 1);\n          }\n        }\n\n        _this4.setState({\n          disable: _this4.state.disable,\n          enable: _this4.state.enable,\n          slot_array: _this4.state.slot_array\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        style: style,\n        zDepth: 3,\n        rounded: false,\n        id: \"abc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 29\n        }\n      }, \" Reserved Parking Slot \", this.state.slotNumber), /*#__PURE__*/React.createElement(TimePicker, {\n        defaultTime: this.state.startTime,\n        onChange: function onChange() {\n          _this5.setState({\n            startTime: arguments.length <= 1 ? undefined : arguments[1]\n          });\n        },\n        style: {\n          display: 'inline-block'\n        },\n        floatingLabelText: \"Start Time\",\n        autoOk: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(TimePicker, {\n        defaultTime: this.state.endTime,\n        onChange: function onChange() {\n          _this5.setState({\n            endTime: arguments.length <= 1 ? undefined : arguments[1]\n          });\n        },\n        style: {\n          display: 'inline-block'\n        },\n        floatingLabelText: \"End Time\",\n        autoOk: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 36\n        }\n      }), /*#__PURE__*/React.createElement(DatePicker, {\n        autoOk: true,\n        minDate: new Date(),\n        defaultDate: this.state.date,\n        onChange: function onChange() {\n          _this5.setState({\n            date: arguments.length <= 1 ? undefined : arguments[1]\n          });\n        },\n        style: {\n          display: 'inline-block'\n        },\n        floatingLabelText: \"Select Date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 36\n        }\n      }), /*#__PURE__*/React.createElement(RaisedButton, {\n        label: \"Book later\",\n        onClick: this.handleReduce,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 28\n        }\n      }), /*#__PURE__*/React.createElement(RaisedButton, {\n        label: \"Find Slot\",\n        primary: true,\n        onClick: function onClick() {\n          {\n            /*this.setState({slotNumber:item})*/\n          }\n\n          _this5.CheckBooking();\n\n          _this5.handleExpand();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(Card, {\n        expanded: this.state.expanded,\n        onExpandChange: this.handleExpandChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(CardText, {\n        expandable: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 29\n        }\n      }, this.state.slot_array.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(RaisedButton, {\n          label: \"Slot \" + item,\n          primary: true,\n          onClick: function onClick() {\n            _this5.setState({\n              slotNumber: item\n            });\n\n            _this5.Book(item);\n\n            _this5.handleExpand();\n          },\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 45\n          }\n        }));\n      })))))));\n    }\n  }]);\n\n  return LocationDetail;\n}(Component);\n\nexport { LocationDetail as default };\nvar style = {\n  width: 1000,\n  margin: 5,\n  display: 'inline'\n};","map":{"version":3,"sources":["C:/Users/mahar/Desktop/react_car/src/Components/UserComponent/locationDetail.js"],"names":["React","Component","MuiThemeProvider","AppBar","RaisedButton","TextField","firebase","Drawer","MenuItem","IconButton","NavigationClose","FlatButton","Paper","TimePicker","DatePicker","Logout","Card","CardActions","CardHeader","CardMedia","CardTitle","CardText","BrowserRouter","Router","Route","Link","LocationDetail","handleExpandChange","expanded","setState","handleToggle","event","toggle","handleExpand","handleReduce","date","Date","setHours","startTime","endTime","getHours","state","slots","slotNumber","slot_array","location_name","location","no_of_slots","locationId","BookingKey","date_now","loc_name","enable","disable","slot","status","slotNo","props","key","rootRef","database","ref","speedRef","child","on","snap","values","val","local_array","slotcount","push","LocationName","Slot","Object","keys","map","value","index","item","userId","auth","currentUser","uid","pushId","String","getMinutes","getSeconds","getDate","getMonth","getFullYear","locobj","console","log","UserId","SlotNo","StartTime","EndTime","alert","sl","split_start_time","split","start_hours_select","start_min_select","Number","split_end_time","end_hours_select","end_min_select","dateNow","split_date","day_select","month_select","year_select","orderByChild","equalTo","booked","differen_location_count","count","bookings","a","i","length","book","start","start_hours","start_min","end","end_hours","end_min","day","month","year","data1","undefined","splice","style","display","CheckBooking","Book","width","margin"],"mappings":"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","sourcesContent":["  import React,{Component} from 'react'\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport AppBar from 'material-ui/AppBar';\r\nimport RaisedButton from 'material-ui/RaisedButton';\r\nimport TextField from 'material-ui/TextField';\r\nimport * as firebase from 'firebase'; \r\nimport Drawer from 'material-ui/Drawer';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\r\nimport FlatButton from 'material-ui/FlatButton';\r\nimport Paper from 'material-ui/Paper';\r\nimport TimePicker from 'material-ui/TimePicker';\r\nimport DatePicker from 'material-ui/DatePicker';\r\nimport Logout from \"../logout\"\r\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\r\nimport{\r\nBrowserRouter as Router,\r\nRoute,\r\nLink\r\n}from 'react-router-dom';\r\nexport default class LocationDetail extends Component{\r\nconstructor(){\r\n    super()\r\n     var date = new Date();\r\n        date.setHours(0,0,0,0)\r\n        var startTime = new Date();\r\n        var endTime = new Date(); \r\n        endTime.setHours((endTime.getHours()+1)) \r\n    this.state={\r\n        slots:[],\r\n        expanded: false,\r\n        slotNumber:'',\r\n        slot_array:[],\r\n        location_name:[],\r\n        location:' ',\r\n        no_of_slots:'',\r\n         date,\r\n         startTime,\r\n         endTime,\r\n        locationId:'',\r\n        BookingKey:[],\r\n        date_now:'',\r\n        loc_name:'',\r\n\r\n         enable:[],\r\n         disable:[]\r\n    }\r\n}\r\n\r\n\r\nhandleExpandChange = (expanded) => {\r\n    this.setState({expanded: expanded});\r\n  };\r\n\r\n  handleToggle = (event, toggle) => {\r\n    this.setState({expanded: toggle});\r\n  };\r\n\r\n  handleExpand = () => {\r\n    this.setState({expanded: true});\r\n  };\r\n\r\n  handleReduce = () => {\r\n    this.setState({expanded: false});\r\n  };\r\ncomponentDidMount(){\r\n \r\n     var slot=[];\r\n     var status=\"\";\r\n     var slotNo=\"\";\r\n     var locationId=this.props.location.state.key;\r\n     const rootRef=firebase.database().ref();\r\n     const speedRef = rootRef.child('Locations/'+ locationId);\r\n     speedRef.on('value',snap => {\r\n     var values=snap.val();\r\n     var local_array;\r\n     var slot;\r\n     var slotcount;\r\n           this.state.location_name.push(values.LocationName)\r\n           this.state.slot_array.push(values.Slot)\r\n           this.state.slot_array= Object.keys(values.Slot).map(function (value,index) \r\n          {\r\n             return [value];\r\n          });          \r\n     this.setState({\r\n       location_name:this.state.location_name,\r\n       slot_array:this.state.slot_array,\r\n       locationId:locationId\r\n      })\r\n \r\n   })\r\n      this.setState({\r\n        slots:slot\r\n     })\r\n}\r\nBook(item){\r\n   var userId=firebase.auth().currentUser.uid;\r\n  var pushId=firebase.database().ref().push().key;\r\n   this.state.startTime= String(this.state.startTime.getHours())+' : '+String(this.state.startTime.getMinutes())+' : '+String(this.state.startTime.getSeconds())\r\n  this.state.endTime= String(this.state.endTime.getHours())+' : '+String(this.state.endTime.getMinutes())+' : '+String(this.state.endTime.getSeconds())\r\n  this.state.date= String(this.state.date.getDate())+'-'+String(this.state.date.getMonth()+1)+'-'+String(this.state.date.getFullYear())\r\n  \r\n        this.setState({\r\n           startTime:this.state.startTime,\r\n           endTime:this.state.endTime,\r\n           date:this.state.date\r\n        }) \r\n  firebase.database().ref('Locations/'+this.state.locationId).on('value',snap => {\r\n  let locobj=snap.val().LocationName\r\n  this.setState({\r\n     loc_name:locobj\r\n  })\r\n  \r\n })\r\n\r\n   console.log(this.state.startTime +\" End time \"+this.state.endTime + \" :\"+this.state.date)\r\n           firebase.database().ref('Booking/').push({\r\n            UserId:userId,\r\n            locationId:this.state.locationId,\r\n            SlotNo:String(item),\r\n            StartTime:String(this.state.startTime),\r\n            EndTime:String(this.state.endTime),\r\n            date:String(this.state.date),\r\n            LocationName:String(this.state.location_name)\r\n          })\r\n  alert(\"Slot has been Booked for you\")\r\n}\r\n\r\nCheckBooking(){\r\n\r\n    var date = this.state.date;\r\n    var startTime = this.state.startTime;\r\n    var endTime = this.state.endTime;\r\n     var sl;\r\n    startTime= String(this.state.startTime.getHours())+' : '+String(this.state.startTime.getMinutes())+' : '+String(this.state.startTime.getSeconds())\r\n            let split_start_time=startTime.split(\":\")\r\n            let start_hours_select =split_start_time[0]\r\n             let start_min_select=split_start_time[1]\r\n             start_hours_select=Number(start_hours_select)\r\n             start_min_select=Number( start_min_select) \r\n\r\n    endTime= String(this.state.endTime.getHours())+' : '+String(this.state.endTime.getMinutes())+' : '+String(this.state.endTime.getSeconds())\r\n         \r\n            let split_end_time=endTime.split(\":\")\r\n            let end_hours_select=split_end_time[0]\r\n            let end_min_select=split_end_time[1]\r\n            end_hours_select=Number(end_hours_select)\r\n            end_min_select=Number(end_min_select)\r\n          \r\n    var dateNow = String(date.getDate())+'-'+String(date.getMonth()+1)+'-'+String(date.getFullYear())\r\n            var split_date =dateNow.split(\"-\")\r\n            let day_select=split_date[0]\r\n            let month_select=split_date[1]\r\n            let year_select =split_date[2]\r\n       \r\n\r\n    this.setState({date_now: dateNow})\r\n\r\n      firebase.database().ref('Booking/').orderByChild('locationId').equalTo(String(this.state.locationId)).on('value',snap => {\r\n      const booked = snap.val();\r\n         let differen_location_count=0 ;\r\n      if(booked){ \r\n        // alert(\"have some previous bookings \")\r\n         let count=0;      \r\n         let bookings = []\r\n        for(let a in booked){\r\n          bookings.push(booked[a])       \r\n        }       \r\n      for(let i=0; i< bookings.length ; i++){\r\n           \r\n            let book = bookings[i];\r\n      \r\n            let start = String(book.StartTime);\r\n            var split_start_time=start.split(\":\")\r\n            let start_hours =split_start_time[0]\r\n            let start_min=split_start_time[1]\r\n             start_hours=Number(start_hours)\r\n             start_min=Number(start_min)\r\n\r\n            let end = String(book.EndTime);\r\n            let split_end_time=end.split(\":\")\r\n            let end_hours=split_end_time[0]\r\n            let end_min=split_end_time[1]\r\n             end_hours=Number(end_hours)\r\n             end_min=Number(end_min)\r\n          \r\n            let date=String(book.date)\r\n            var split_date =date.split(\"-\")\r\n            let day=split_date[0]\r\n            let month=split_date[1]\r\n            let year =split_date[2]\r\n         \r\n             day=Number(day)\r\n             month=Number(month)\r\n             year=Number(year)\r\n\r\n             if(day_select === day ){\r\n              //  alert(\"yes day same \")\r\n                    if (((start_hours_select < start_hours) && (end_hours_select < start_hours)) || (start_hours_select > end_hours)){\r\n                      //  alert(\"ok no problem in if \")\r\n                      console.log(\"book.slotNo\"+this.state.enable.push(book.SlotNo))\r\n                    }else{\r\n                      // alert (\"Similarity find i am in first else \")\r\n                       console.log(\"disable book.slot no\"+this.state.disable.push(book.SlotNo))\r\n                      this.setState({disable:this.state.disable})\r\n                    \r\n                }                 \r\n             }                \r\n            //  else{\r\n            //         if (((start_hours_select < start_hours) && (end_hours_select < start_hours)) || (start_hours_select > end_hours)){\r\n            //           console.log(\"book.slotNo\"+this.state.enable.push(book.SlotNo))\r\n            //         }else{\r\n            //             console.log(\"disable book.slot no\"+this.state.disable.push(book.SlotNo))\r\n            //         }  \r\n            //     }\r\n               }     \r\n         }\r\n       \r\n\r\n               for(var i=0 ;i<this.state.slot_array.length;i++){\r\n                  \r\n                       var data1 = this.state.disable[i]\r\n                        if(data1!==undefined){ \r\n                        console.log(\"data 1\"+data1)\r\n                        console.log(typeof data1)\r\n                        data1=Number(data1)                         \r\n                        this.state.slot_array.splice(data1,1) ;                      \r\n                        }\r\n             }  \r\n this.setState({disable:this.state.disable,enable:this.state.enable,slot_array:this.state.slot_array})\r\n       })\r\n    }\r\n\r\nrender(){\r\n    return(\r\n            <div>                     \r\n              <MuiThemeProvider>\r\n                  <div>\r\n                     <Paper style={style} zDepth={3} rounded={false} id=\"abc\" >\r\n                            <h2> Reserved Parking Slot {this.state.slotNumber}</h2>\r\n                                  <TimePicker defaultTime={this.state.startTime}\r\n                                        onChange={(...arg) => {this.setState({startTime: arg[1]})}\r\n                                        }  \r\n                                          style={{display: 'inline-block'}}\r\n                                          floatingLabelText=\"Start Time\" \r\n                                          autoOk={true}/>\r\n                               \r\n                                   <TimePicker defaultTime={this.state.endTime} \r\n                                        onChange={(...arg) => {this.setState({endTime: arg[1]})}}\r\n                                        style={{display: 'inline-block'}} \r\n                                        floatingLabelText=\"End Time\" \r\n                                        autoOk={true}/>\r\n                                          {/*<p>{this.state.endTime}</p>*/}\r\n                                   <DatePicker autoOk={true} \r\n                                        minDate={new Date()} \r\n                                        defaultDate={this.state.date}\r\n                                        onChange={(...arg) => {this.setState({date: arg[1]})}} \r\n                                        style={{display: 'inline-block'}} \r\n                                        floatingLabelText=\"Select Date\" />\r\n                                                          \r\n                           <RaisedButton label=\"Book later\" onClick={this.handleReduce} />\r\n                          <RaisedButton label=\"Find Slot\" primary={true} \r\n                          onClick = {() => {\r\n                                   {/*this.setState({slotNumber:item})*/}\r\n                                   this.CheckBooking()  \r\n                              \r\n                                    this.handleExpand()}} />\r\n                \r\n                   <Card expanded={this.state.expanded} onExpandChange={this.handleExpandChange}>\r\n                            <CardText expandable={true}>\r\n                                    {/*{ this.state.disable.map((item, index) => (\r\n                                      <span>                   \r\n                                          <RaisedButton label=  {\"Slot \"+item} disabled={true}/>                             \r\n                                    </span>         \r\n                                    ))} */}\r\n                                  { this.state.slot_array.map((item, index) => (\r\n                                        <span>\r\n                                            <RaisedButton label=  {\"Slot \"+item} primary={true} onClick = {() => {\r\n                                      \r\n                                        this.setState({slotNumber:item})\r\n                                        this.Book(item);\r\n                                            this.handleExpand()}} />\r\n                                      </span>\r\n                                  ))} \r\n\r\n                                  \r\n                        </CardText>\r\n                      \r\n                         </Card>\r\n                            </Paper>  \r\n                </div>\r\n            </MuiThemeProvider>\r\n         </div>\r\n\r\n  )}\r\n}\r\nconst style = {\r\n  width:1000,\r\n  margin:5,\r\n  display: 'inline',\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}